<!doctype html><html><head><meta charset="utf-8" /><title>JavaScript Web Storage (DOM Storage) - Dive Into JavaScript</title><link rel="stylesheet" media="screen" type="text/css" href="http://static.diveintojavascript.com/theme/v2/style/default.css" /></head><body><div id="d"><div id="p" class="ac"><div id="lc"><div id="c"><div id="h"><h3 id="sn"><a href="../index.html">Dive Into JavaScript</a></h3></div><div id="b"><h1>JavaScript Web Storage (DOM Storage)</h1><p><strong>Web Storage</strong> aka <strong>DOM Storage</strong> is a mechanism for client-side persistent data storage.</p><p>Web Storage is often compared to HTTP cookies, however they differ in some ways:</p><ul><li>Cookies are retransmitted with every request to the server making it impractical to store larger quantities of data</li><li>Web Storage offers much greater storage capacity (usually 5MB) unlike cookies which are limited to about 4KB</li><li>The data stored in the local storage area does not expire and spans accross different tabs and/or windows</li></ul><p>The Web Storage specification was designed as a better and more secure way of storing data on the client. There are two types of storage, <strong>Session Storage</strong> and <strong>Local Storage</strong>, exposed through the <code>sessionStorage</code> and <code>localStorage</code> global objects, respectively.</p><h2>Session Storage</h2><p>Session storage is intended for short-lived data and is available through the <code>sessionStorage</code> attribute of the <code>window</code> object (i.e. it is a global object).</p><p>Data stored in the <code>sessionStorage</code> object is shared only with pages from the same domain opened in the same window/tab and does not persist after the window/tab is closed. Every time a user opens a page in a new window/tab, the browser creates a new session storage database.</p><h2>Local Storage</h2><p>The local storage mechanism allows to store data for more than a single session. Access to the local storage is available through the <code>localStorage</code> global object. The <code>localStorage</code> object is functionally identical to the <code>sessionStorage</code>, except that data stored in the local storage area is persistent and not limited to the lifetime of the window/tab.</p><p>The local storage area is shared across multiple windows/tabs thus being suitable for use in multi-transaction scenarios.</p><h2>The <span class="code">Storage</span> Interface</h2><p>The <code>Storage</code> interface declares methods for storing, retrieving and deleting items. Both the <code>sessionStorage</code> and the <code>localStorage</code> are objects implementing the <code>Storage</code> interface. The methods and properties are as follows:</p><dl><dt><span class="code">length</span></dt><dd>Retrieves the number of key/value pairs in the list</dd><dt><span class="code">key(<i>index</i>)</span></dt><dd>Returns the key at the specified index</dd><dt><span class="code">getItem(<i>key</i>)</span></dt><dd>Returns the value associated with the given key</dd><dt><span class="code">setItem(<i>key</i>, <i>value</i>)</span></dt><dd>Sets a key/value pair</dd><dt><span class="code">removeItem(<i>key</i>)</span></dt><dd>Removes the item with the specified key</dd><dt><span class="code">clear()</span></dt><dd>Removes all key/value pairs</dd></dl><h2>DOM Storage Events</h2><p>The <code>storage</code> event is fired whenever a storage area changes. The <code>storage</code> event object has the following attributes:</p><dl><dt><code>key</code></dt><dd>Represents the key being changed</dd><dt><code>oldValue</code></dt><dd>Represents the old value of the key being changed</dd><dt><code>newValue</code></dt><dd>Represents the new value of the key being changed</dd><dt><code>url</code></dt><dd>Represents the URL of the page whose key changed</dd><dt><code>storageArea</code></dt><dd>Represents the Storage object that was affected</dd></dl><h2>Web Storage Browser Support</h2><p>The Web Storage specification is partially implemented in Internet Explorer 8, Firefox 3.5, Safari 4, Google Chrome 4 (support for the <code>sessionStorage</code> object was added in version 5), and Opera 10.50. As of 14 July 2010, only Opera supports the DOM Storage events.</p><h2>See also</h2><ul><li><a href="../tutorials/web-storage-tutorial-creating-an-address-book-application">JavaScript Web Storage Tutorial: Creating an Address Book Application</a></li></ul><div class="contact-note"><p>If you see a typo, want to make a suggestion or have anything in particular you'd like to know more about, please drop us an e-mail at <a href="mailto:hello at diveintojavascript dot com">hello at diveintojavascript dot com</a>.</p></div></div><div id="f"><div class="copy-notice"><p>Copyright &copy; 2010-2011 Dive Into JavaScript</p></div></div></div></div><div id="rc"><div id="s"><script>google_ad_client="pub-4089529313925168";google_ad_slot="5129818829";google_ad_width=300;google_ad_height=250;</script><script src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><div class="block"><div class="head"><h3>JavaScript Tools</h3></div><div class="body"><ul><!--li><a href="/tools/javascript-minifier-packer-compressor-compiler">JavaScript Minifier/Packer/Compressor/Compiler</a></li--><li><a href="../tools/javascript-regular-expressions-toolkit">JavaScript Regular Expressions Toolkit</a></li></ul></div></div><div class="block"><div class="head"><h3>Projects</h3></div><div class="body"><ul><li><a href="../projects/javascript-sprintf">JavaScript sprintf()</a></li><li><a href="../projects/sidjs-load-javascript-and-stylesheets-on-demand">SidJS - JavaScript and CSS Lazy Loader</a></li></ul></div></div><div class="block"><div class="head"><h3>Articles</h3></div><div class="body"><ul><li><a href="../articles/javascript-regular-expressions">JavaScript Regular Expressions</a></li><li><a href="../articles/javascript-boolean-objects-vs-boolean-primitives">JavaScript Boolean objects vs. boolean primitives</a></li></ul></div></div><div class="block"><div class="head"><h3>Tutorials</h3></div><div class="body"><ul><li><a href="../tutorials/web-storage-tutorial-creating-an-address-book-application">JavaScript Web Storage Tutorial: Creating an Address Book Application</a></li></ul></div></div><div class="block"><div class="head"><h3>JavaScript APIs</h3></div><div class="body"><ul><li><a href="web-storage-dom-storage">Web Storage (DOM Storage)</a></li></ul></div></div><div class="block"><div class="head"><h3>JavaScript Core Reference</h3></div><div class="body"><h4>Global objects</h4><ul><li><a href="../core-javascript-reference/the-array-object">Array</a></li><li><a href="../core-javascript-reference/the-boolean-object">Boolean</a></li><li>Date</li><li>Error</li><li>Function</li><li><a href="../core-javascript-reference/the-math-object">Math</a></li><li><a href="../core-javascript-reference/the-number-object">Number</a></li><li><a href="../core-javascript-reference/the-object-object">Object</a></li><li><a href="../core-javascript-reference/the-regexp-object">RegExp</a></li><li><a href="../core-javascript-reference/the-string-object">String</a></li></ul><h4>Global properties</h4><ul><li><a href="../core-javascript-reference/the-infinity-property">Infinity</a></li><li><a href="../core-javascript-reference/the-nan-property">NaN</a></li><li><a href="../core-javascript-reference/the-undefined-property">undefined</a></li></ul><h4>Global functions</h4><ul><li><a href="../core-javascript-reference/the-decodeuri-function">decodeURI</a></li><li><a href="../core-javascript-reference/the-decodeuricomponent-function">decodeURIComponent</a></li><li><a href="../core-javascript-reference/the-encodeuri-function">encodeURI</a></li><li><a href="../core-javascript-reference/the-encodeuricomponent-function">encodeURIComponent</a></li><li>eval</li><li><a href="../core-javascript-reference/the-isfinite-function">isFinite</a></li><li><a href="../core-javascript-reference/the-isnan-function">isNaN</a></li><li><a href="../core-javascript-reference/the-parsefloat-function">parseFloat</a></li><li><a href="../core-javascript-reference/the-parseint-function">parseInt</a></li></ul></div></div><div class="block"><div class="body"><div style="text-align: center;"><a href="http://www.webfaction.com/?affiliate=alexei"><img src="http://www.webfaction.com/banners/webfaction-240x60-reliable-bg.png" alt="WebFaction - Agile hosting, fast and reliable servers" class="banner" /></a></div></div></div></div></div></div></div><script>var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-16425630-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script></body></html>
